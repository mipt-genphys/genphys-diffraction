### Дифракция Фраунгофера на произвольных отверстиях ##

МФТИ 2019 © Чеканов Кирилл, Филипенко Владимир
****
**Описание алгоритма**

**1.** Заданное произвольное отверстие аппроксимируется некоторым клеточным множеством. Для этого алгоритм натягивает сетку на изображение, далее на этой сетке отмечается граница, по которой восстанавливается вписанное клеточное множество. Таким образом, дальнейший алгоритм исследует дифракцию на наборе небольших пикселей (см. рисунок).

![](https://github.com/kichyr/diffraction_meter/blob/master/11.jpg)

**2.** Создается матрица интенсивностей, каждый элемент которой отвечает за суммарную интенсивность света, идущего в соответствующем направлении от всех пикселей изначальной сетки и собранного линзой в некоторой точке.

Матрица интенсивностей вычисляется следующим образом: 
Фиксируется некоторое направление, и с учетом разностей фаз суммируются поля от всех пикселей в этом направлении. При этом за пиксель с нулевой начальной фазой берется пиксель, содержащий центр заданного отверстия, который вычисляется по формуле:

<img src="http://latex.codecogs.com/gif.latex?\vec{r}_c = \frac{\sum\limits_{k = 1}^{n}\vec{r}_k}{n}" border="0"/>

 Для квадрата с центром в <img src="http://latex.codecogs.com/gif.latex?(x_0, y_0)" border="0"/>
 поле в направлении <img src="http://latex.codecogs.com/gif.latex?(s_x, s_y, s_z)" border="0"/> вычисляется следующим образом:

<img src="http://latex.codecogs.com/gif.latex?E = \int\limits_{x_0 - d/2}^{x_0 + d/2} \int\limits_{x_0 - d/2}^{x_0 + d/2} \cos(k(s_xx + s_yy))dxdy = d^2\frac{\sin\alpha}{\alpha}\frac{\sin\beta}{\beta}" border="0"/>

**3.** Матрица интенсивностей выводится на экран, яркость каждого пикселя пропорциональна значению соответствующего элемента матрицы.

**Руководство пользователя**

+ Для начала работы необходимо изобразить в окне границы исследуемого отверстия(замкнутые кривые без самопересечений) с помощью мыши и зажатой ЛКМ.
+ Для вывода на экран дифракционной картины от заданного отверстия нажмите кнопку "Calc!".
+ Для очистки экрана нажмите кнопку "Clean".


**Примеры ввода/вывода**

![](https://github.com/kichyr/diffraction_meter/blob/master/pix2.jpg)
